export const categories = [
  {
    id: "auto_services",
    name: "–ê–≤—Ç–æ—É—Å–ª—É–≥–∏",
    icon: "üöó",
    color: "#FF6B35",
    subcategories: [
      { id: "car_repair", name: "–ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å—ã", icon: "üîß" },
      { id: "car_wash", name: "–ê–≤—Ç–æ–º–æ–π–∫–∏", icon: "üí¶" },
      { id: "tire_fitting", name: "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂–∏", icon: "‚öôÔ∏è" },
      { id: "auto_parts", name: "–ê–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏", icon: "üî©" },
      { id: "car_dismantling", name: "–ê–≤—Ç–æ—Ä–∞–∑–±–æ—Ä–∫–∏", icon: "‚ôªÔ∏è" }
    ]
  },
  {
    id: "medicine_health",
    name: "–ú–µ–¥–∏—Ü–∏–Ω–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ",
    icon: "üè•",
    color: "#4CAF50",
    subcategories: [
      { id: "medical_centers", name: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ü–µ–Ω—Ç—Ä—ã", icon: "‚öïÔ∏è" },
      { id: "dentistry", name: "–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏", icon: "ü¶∑" },
      { id: "pharmacies", name: "–ê–ø—Ç–µ–∫–∏", icon: "üíä" },
      { id: "vet_clinics", name: "–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏", icon: "üêæ" },
      { id: "optics", name: "–û–ø—Ç–∏–∫–∏", icon: "üëì" }
    ]
  },
  {
    id: "shopping_stores",
    name: "–¢–æ—Ä–≥–æ–≤–ª—è –∏ –º–∞–≥–∞–∑–∏–Ω—ã",
    icon: "üõçÔ∏è",
    color: "#FFC107",
    subcategories: [
      { id: "grocery_stores", name: "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã", icon: "üçé" },
      { id: "clothing_shoes", name: "–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å", icon: "üëï" },
      { id: "electronics", name: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ —Ç–µ—Ö–Ω–∏–∫–∞", icon: "üì±" },
      { id: "building_materials", name: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã", icon: "üèóÔ∏è" },
      { id: "flower_shops", name: "–¶–≤–µ—Ç–æ—á–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã", icon: "üíê" }
    ]
  },
  {
    id: "public_catering",
    name: "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ",
    icon: "üçΩÔ∏è",
    color: "#FF5722",
    subcategories: [
      { id: "coffee_shops", name: "–ö–æ—Ñ–µ–π–Ω–∏", icon: "‚òï" },
      { id: "restaurants", name: "–†–µ—Å—Ç–æ—Ä–∞–Ω—ã", icon: "üçù" },
      { id: "bars_pubs", name: "–ë–∞—Ä—ã –∏ –ø–∞–±—ã", icon: "üçª" },
      { id: "fast_food", name: "–§–∞—Å—Ç—Ñ—É–¥", icon: "üçî" },
      { id: "confectioneries", name: "–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ", icon: "üç∞" }
    ]
  },
  {
    id: "services_household",
    name: "–£—Å–ª—É–≥–∏ –∏ –±—ã—Ç",
    icon: "üè†",
    color: "#607D8B",
    subcategories: [
      { id: "beauty_salons", name: "–°–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã", icon: "üíÖ" },
      { id: "dry_cleaning", name: "–•–∏–º—á–∏—Å—Ç–∫–∏", icon: "üëï" },
      { id: "appliance_repair", name: "–†–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏", icon: "üîå" },
      { id: "laundries", name: "–ü—Ä–∞—á–µ—á–Ω—ã–µ", icon: "üß∫" },
      { id: "photo_services", name: "–§–æ—Ç–æ—É—Å–ª—É–≥–∏", icon: "üì∏" }
    ]
  },
  {
    id: "entertainment_leisure",
    name: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –æ—Ç–¥—ã—Ö",
    icon: "üéâ",
    color: "#9C27B0",
    subcategories: [
      { id: "cinemas", name: "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä—ã", icon: "üé¨" },
      { id: "gyms", name: "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∑–∞–ª—ã", icon: "üèãÔ∏è" },
      { id: "swimming_pools", name: "–ë–∞—Å—Å–µ–π–Ω—ã", icon: "üèä" },
      { id: "libraries", name: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏", icon: "üìö" },
      { id: "amusement_parks", name: "–ü–∞—Ä–∫–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π", icon: "üé°" }
    ]
  }
];

export function renderCategorySelection(containerId, profile, addFavoriteCategory, removeFavoriteCategory, applyMapFilters) {
    const favoriteCategoriesContainer = document.getElementById(containerId);
    if (!favoriteCategoriesContainer) return;

    favoriteCategoriesContainer.innerHTML = ''; // –û—á–∏—â–∞–µ–º

    categories.forEach(category => {
        // –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
        const mainCategoryDiv = document.createElement('div');
        mainCategoryDiv.classList.add('main-category-item');
        mainCategoryDiv.innerHTML = `
            <h3>${category.icon} ${category.name}</h3>
        `;
        favoriteCategoriesContainer.appendChild(mainCategoryDiv);

        // –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const subcategoriesGrid = document.createElement('div');
        subcategoriesGrid.classList.add('subcategory-grid');
        mainCategoryDiv.appendChild(subcategoriesGrid);

        category.subcategories.forEach(subcategory => {
            const subcategoryDiv = document.createElement('div');
            subcategoryDiv.classList.add('category-item');
            subcategoryDiv.innerHTML = `
                <input type="checkbox" id="fav-cat-${subcategory.id}" value="${subcategory.id}" ${profile.favoriteCategories && profile.favoriteCategories.includes(subcategory.id) ? 'checked' : ''}>
                <label for="fav-cat-${subcategory.id}">${subcategory.icon} ${subcategory.name}</label>
            `;
            subcategoryDiv.querySelector('input').addEventListener('change', (e) => {
                if (e.target.checked) {
                    addFavoriteCategory(subcategory.id);
                } else {
                    removeFavoriteCategory(subcategory.id);
                }
                applyMapFilters();
            });
            subcategoriesGrid.appendChild(subcategoryDiv);
        });
    });
}

