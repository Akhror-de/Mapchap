<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapChap Telegram Mini App</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="style.css">
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ Telegram WebApp –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram-–∫–ª–∏–µ–Ω—Ç–æ–º -->
 
     <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–∞—à–µ–≥–æ API –∫–ª—é—á–∞ –∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ -->
    <!-- –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∫–ª—é—á –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
     <script src="https://api-maps.yandex.ru/2.1/?apikey=07b74146-515a-46bf-a2b1-cf6d052a41bb&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="app-container">
        <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ -->
        <header class="app-header">
            <h1>MapChap</h1>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –≥–¥–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <main class="app-content">
            <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–∞—Ä—Ç–æ–π –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <section id="main-map-screen" class="app-screen active">
                <h2>–ì–ª–∞–≤–Ω–∞—è –ö–∞—Ä—Ç–∞</h2>
                <!-- –ü–∞–Ω–µ–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–≤–µ–¥–µ–Ω–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                <div class="search-filter-panel">
                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –∑–∞–≤–µ–¥–µ–Ω–∏–π..." class="telegram-input">
                    <div class="filters-container">
                        <button class="telegram-button filter-button" data-category="all">–í—Å–µ</button>
                        <button class="telegram-button filter-button" data-category="cafe">–ö–∞—Ñ–µ</button>
                        <button class="telegram-button filter-button" data-category="restaurant">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</button>
                        <button class="telegram-button filter-button" data-category="shop">–ú–∞–≥–∞–∑–∏–Ω—ã</button>
                        <button class="telegram-button filter-button" id="geolocation-button">–†—è–¥–æ–º —Å–æ –º–Ω–æ–π</button>
                    </div>
                </div>
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞ -->
                <div id="map" style="width: 100%; height: 400px; background: #f0f0f0;"></div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π -->
            <section id="business-registration-screen" class="app-screen">
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π</h2>
                <form class="registration-form">
                    <div class="form-group">
                        <label for="business-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏:</label>
                        <input type="text" id="business-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏" required>
                    </div>
                    <div class="form-group">
                        <label for="business-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –±–∏–∑–Ω–µ—Å–∞:</label>
                        <select id="business-category" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            <option value="food">–ï–¥–∞</option>
                            <option value="services">–£—Å–ª—É–≥–∏</option>
                            <option value="retail">–†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</option>
                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="business-description">–û–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞:</label>
                        <textarea id="business-description" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact-person">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:</label>
                        <input type="text" id="contact-person" placeholder="–§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" placeholder="–í–∞—à Email" required>
                    </div>
                    <!-- –ì—Ä—É–ø–ø–∞ –ø–æ–ª–µ–π –¥–ª—è –ò–ù–ù –∏ –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
                    <div class="form-group">
                        <label for="inn">–ò–ù–ù:</label>
                        <input type="text" id="inn" placeholder="–í–≤–µ–¥–∏—Ç–µ –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)" required pattern="^\d{10}$|^\d{12}$" title="–ò–ù–ù –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä">
                        <button type="button" class="telegram-button small-button" id="verify-inn-button">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –§–ù–°</button>
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ò–ù–ù -->
                        <div id="inn-verification-status" class="verification-status-message"></div>
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ –§–ù–° -->
                        <div id="fns-company-data" class="fns-company-data-display">
                            <p><strong>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</strong> <span id="fns-company-name"></span></p>
                            <p><strong>–û–ì–†–ù:</strong> <span id="fns-ogrn"></span></p>
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> <span id="fns-address"></span></p>
                            <p><strong>–û–ö–í–≠–î:</strong> <span id="fns-okved"></span></p>
                            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="fns-status"></span></p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="business-logo">–õ–æ–≥–æ—Ç–∏–ø/–§–æ—Ç–æ:</label>
                        <input type="file" id="business-logo" accept="image/*">
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
                        <div class="photo-preview-container" id="business-logo-preview"></div>
                    </div>
                    <div class="form-group">
                        <label for="business-location">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ:</label>
                        <!-- –ü–æ–ª–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è, –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–∞ –∫–∞—Ä—Ç–µ -->
                        <input type="text" id="business-location" placeholder="–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–ª–∏ –∞–¥—Ä–µ—Å" readonly required>
                        <button type="button" class="telegram-button small-button" id="select-location-on-map">–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
                    </div>
                    <button type="submit" class="telegram-button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </form>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è: –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å–∞ -->
            <section id="business-profile-screen" class="app-screen">
                <h2>–ü—Ä–æ—Ñ–∏–ª—å –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è</h2>
                <div class="profile-info">
                    <p><strong>–ù–∞–∑–≤–∞–Ω–∏–µ:</strong> <span id="profile-business-name">MapCost Services</span></p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> <span id="profile-business-category">–ù–µ —É–∫–∞–∑–∞–Ω–∞</span></p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> <span id="profile-business-description">–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è</span></p>
                    <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç:</strong> <span id="profile-contact-person">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</span></p>
                    <p><strong>Email:</strong> <span id="profile-email">ivan.ivanov@example.com</span></p>
                    <p><strong>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:</strong> <span id="profile-business-location">–ù–µ —É–∫–∞–∑–∞–Ω–æ</span></p>
                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è–º–∏ -->
                    <div class="business-actions">
                        <button class="telegram-button" id="edit-profile-button">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                        <button class="telegram-button" id="add-establishment-button">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–µ–¥–µ–Ω–∏–µ</button>
                        <button class="telegram-button" id="view-stats-button">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                        <button class="telegram-button" id="notification-settings-button">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
                        <button class="telegram-button" id="back-to-map-button">üîô –ù–∞–∑–∞–¥ –∫ –∫–∞—Ä—Ç–µ</button>
                    </div>
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–≤–µ–¥–µ–Ω–∏–π, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—é -->
                    <div class="establishment-list">
                        <h4>–ú–æ–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è:</h4>
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–≤–µ–¥–µ–Ω–∏–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ -->
            <section id="add-edit-establishment-screen" class="app-screen">
                <h2>–î–æ–±–∞–≤–∏—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ó–∞–≤–µ–¥–µ–Ω–∏–µ</h2>
                <form class="establishment-form">
                    <div class="form-group">
                        <label for="est-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è:</label>
                        <input type="text" id="est-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
                    </div>
                    <div class="form-group">
                        <label for="est-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="est-description" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="est-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select id="est-category" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            <option value="cafe">–ö–∞—Ñ–µ</option>
                            <option value="restaurant">–†–µ—Å—Ç–æ—Ä–∞–Ω</option>
                            <option value="shop">–ú–∞–≥–∞–∑–∏–Ω</option>
                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="est-price-category">–¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select id="est-price-category">
                            <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–æ</option>
                            <option value="$">$ (–≠–∫–æ–Ω–æ–º)</option>
                            <option value="$$">$$ (–°—Ä–µ–¥–Ω–∏–π)</option>
                            <option value="$$$">$$$ (–í—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ)</option>
                            <option value="$$$$">$$$$ (–î–æ—Ä–æ–≥–æ)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="est-coords">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞):</label>
                        <input type="text" id="est-coords" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 55.75, 37.62" required>
                        <button type="button" class="telegram-button small-button" id="get-current-coords">–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ</button>
                        <button type="button" class="telegram-button small-button" id="select-est-location-on-map">–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
                    </div>
                    <div class="form-group">
                        <label for="est-contact">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</label>
                        <input type="text" id="est-contact" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω, email, —Å–∞–π—Ç">
                    </div>
                    <div class="form-group">
                        <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:</label>
                        <input type="file" id="est-photos" multiple accept="image/*">
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∑–∞–≤–µ–¥–µ–Ω–∏—è -->
                        <div class="photo-preview-container" id="est-photos-preview"></div>
                    </div>
                    <button type="submit" class="telegram-button" id="save-establishment-button">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" class="telegram-button secondary-button" id="cancel-establishment-button">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </form>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è -->
            <section id="edit-business-profile-screen" class="app-screen">
                <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ü—Ä–æ—Ñ–∏–ª—å</h2>
                <form class="edit-profile-form">
                    <div class="form-group">
                        <label for="edit-business-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏:</label>
                        <input type="text" id="edit-business-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-business-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –±–∏–∑–Ω–µ—Å–∞:</label>
                        <select id="edit-business-category" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            <option value="food">–ï–¥–∞</option>
                            <option value="services">–£—Å–ª—É–≥–∏</option>
                            <option value="retail">–†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</option>
                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-business-description">–û–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞:</label>
                        <textarea id="edit-business-description" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="edit-contact-person">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:</label>
                        <input type="text" id="edit-contact-person" placeholder="–§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email:</label>
                        <input type="email" id="edit-email" placeholder="–í–∞—à Email" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-business-logo">–õ–æ–≥–æ—Ç–∏–ø/–§–æ—Ç–æ:</label>
                        <input type="file" id="edit-business-logo" accept="image/*">
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–æ—Ç–∏–ø–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ -->
                        <div class="photo-preview-container" id="edit-business-logo-preview"></div>
                    </div>
                    <div class="form-group">
                        <label for="edit-business-location">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ:</label>
                        <!-- –ü–æ–ª–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è, –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–∞ –∫–∞—Ä—Ç–µ -->
                        <input type="text" id="edit-business-location" placeholder="–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–ª–∏ –∞–¥—Ä–µ—Å" readonly required>
                        <button type="button" class="telegram-button small-button" id="select-edit-business-location-on-map">–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
                    </div>
                    <button type="submit" class="telegram-button" id="save-profile-button">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" class="telegram-button secondary-button" id="cancel-edit-profile-button">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </form>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –≤ —Ä–µ–∂–∏–º –ë–∏–∑–Ω–µ—Å–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π -->
            <section id="business-mode-entry-screen" class="app-screen">
                <h2>–†–µ–∂–∏–º –ë–∏–∑–Ω–µ—Å–∞</h2>
                <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å.</p>
                <button class="telegram-button" data-target-screen="business-registration-screen">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å</button>
                <button type="button" class="telegram-button secondary-button" id="login-business-button">–í–æ–π—Ç–∏ –∫–∞–∫ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å</button>
            </section>

            <!-- –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—é–±–∏–º—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
            <section id="favorite-categories-screen" class="app-screen">
                <h2>–õ—é–±–∏–º—ã–µ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≤–µ–¥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å:</p>
                <div id="favorite-categories-list" class="category-selection-grid">
                    <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS -->
                </div>
                <button class="telegram-button" id="save-favorite-categories">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä</button>
                <button class="telegram-button secondary-button" id="cancel-favorite-categories">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </section>

            <!-- –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <section id="favorite-establishments-screen" class="app-screen">
                <h2>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –ó–∞–≤–µ–¥–µ–Ω–∏—è</h2>
                <div id="favorite-establishments-list" class="establishment-list">
                    <!-- –°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS -->
                    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π.</p>
                </div>
            </section>
        </main>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <nav class="bottom-navigation">
            <button class="nav-button active" data-target-screen="main-map-screen">–ö–∞—Ä—Ç–∞</button>
            <button class="nav-button" data-target-screen="favorite-establishments-screen">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
            <button class="nav-button" data-target-screen="favorite-categories-screen">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
            <button class="nav-button" data-target-screen="business-mode-entry-screen">–ë–∏–∑–Ω–µ—Å</button>
        </nav>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏ -->
    <div id="establishment-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 id="modal-establishment-name">–ù–∞–∑–≤–∞–Ω–∏–µ –ó–∞–≤–µ–¥–µ–Ω–∏—è</h3>
            <div class="modal-photos">
                <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> <span id="modal-establishment-description"></span></p>
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> <span id="modal-establishment-category"></span></p>
            <p><strong>–¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> <span id="modal-establishment-price-category"></span></p>
            <p><strong>–†–µ–π—Ç–∏–Ω–≥:</strong> <span id="modal-establishment-rating"></span></p>
            <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong> <span id="modal-establishment-contact"></span></p>
            <div class="modal-reviews">
                <h4>–û—Ç–∑—ã–≤—ã:</h4>
                <!-- –û—Ç–∑—ã–≤—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <button class="telegram-button" id="build-route-button">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
            <button class="telegram-button secondary-button" id="delete-establishment-button">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–µ–¥–µ–Ω–∏–µ</button>
            <button class="telegram-button secondary-button" id="add-to-favorites-button">‚≠ê –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) -->
    <div id="location-picker-modal" class="modal">
        <div class="modal-content large-modal-content">
            <span class="close-button" id="close-location-picker">&times;</span>
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è -->
            <div id="picker-map-container" style="width: 100%; height: 300px; margin-bottom: 15px; border-radius: 8px; overflow: hidden;"></div>
            <p>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: <strong id="selected-coords">–ù–µ—Ç</strong></p>
            <button class="telegram-button" id="confirm-location-button">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
            <button type="button" class="telegram-button secondary-button" id="cancel-location-button">‚ùå –û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="app.js"></script>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="notification-settings-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-notification-settings">&times;</span>
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
            <p>–ü–æ–ª—É—á–∞–π—Ç–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –∏ –∞–∫—Ü–∏—è—Ö –æ—Ç MapCost.</p>
            <div class="form-group notification-toggle-group">
                <label for="notification-toggle">–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</label>
                <label class="switch">
                    <input type="checkbox" id="notification-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
            <p id="notification-status-message"></p>
            <button type="button" class="telegram-button secondary-button" id="close-notification-settings-button">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
<script>
// –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ö–ê–†–¢–´
if (typeof ymaps !== 'undefined') {
    ymaps.ready(function() {
        try {
            // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç—É
            var map = new ymaps.Map('map', {
                center: [55.7558, 37.6173], // –ú–æ—Å–∫–≤–∞
                zoom: 10,
                controls: ['zoomControl', 'fullscreenControl']
            });
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç—ë–º–Ω—É—é —Ç–µ–º—É
            map.setType('yandex#darkMap');
            
            console.log('‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            document.getElementById('debug-info').innerHTML = 
                '‚úÖ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã | ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: 330x400px | ‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞!';
                
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã:', error);
            document.getElementById('debug-info').innerHTML = 
                '‚úÖ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã | ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: 330x400px | ‚ùå –û—à–∏–±–∫–∞ –∫–∞—Ä—Ç—ã: ' + error.message;
        }
    });
} else {
    console.error('‚ùå –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
}
</script>
<body>
    <!-- –î–ï–ë–ê–ì –ü–ê–ù–ï–õ–¨ - –ü–ï–†–í–ê–Ø -->
    <div style="position: fixed; top: 0; left: 0; right: 0; background: #ff4444; color: white; padding: 10px; font-size: 14px;">
        <strong>Debug Panel</strong>
        <div id="debug-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div id="app-container">
        <!-- –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ -->
        <div id="map" style="width: 100%; height: 400px; background: #f0f0f0;"></div>
    </div>

    <!-- –°–ö–†–ò–ü–¢–´ –í –ö–û–ù–¶–ï -->
    <script>
    // –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã
    </script>
</body>
</script>
</html>